<?xml version="1.0"?>

<project name="Edf.Lib">

<!--
This standard NAnt build file is used for automated builds. Update and test 
it whenever necessary. This file makes use of a "common.build" file you can
find in your c:/tools folder. 
See http://extranet/workspaces/edf/

Targets:

clean   - Cleans build dir.
build   - Builds project.
doc     - Builds documentation.
package - Creates packages for distribution.
deploy  - For websites, instead of package, deploy to staging server.

-->

<property name="product.version" value="2.0" />
<property name="product.name" value="${nant.project.name}" />
<property name="nant.settings.currentframework" value="net-2.0" />

<include buildfile="c:/edf/shared/common.build" />




	<!-- CLEAN
      Clean build directories  -->
	<target name="clean" depends="common-clean" description="Clean build directories">
	</target>

	<!-- BUILD
		  Build target -->
	<target name="build" depends="common-build" description="Builds the project">
		<exec
		  program="c:/WINDOWS/Microsoft.NET/Framework/v2.0.50727/msbuild.exe"
		  commandline="/t:rebuild /property:Config=Release"
		  workingdir="src/Edf.lib"
		/>
	</target>

	<!-- DOC
		  Create documentation -->
	<target name="doc" depends="build,common-doc-api" description="Create documentation">
	</target>
	<fileset id="doc-api">
		<include name="bin/Edf.Lib.dll" />
	</fileset>

	<!-- TEST
		  Create documentation -->
	<target name="test" depends="build" description="Create documentation">
	</target>

	<!-- PACKAGE
		  Create a distribution (zip) or setup (msi) package, or both. -->
	<target name="package" depends="test,doc,common-package" description="Creates a package for uploading.">
		<echo>Zipping files</echo>
		<mkdir dir="${package.dir}" failonerror="false" />
		<zip zipfile="${package.dir}/${product.fullname}.zip">
			<fileset>
				<include name="bin/**"/>
				<include name="doc/**"/>
				<include name="share/**"/>
				<include name="web/**"/>
			</fileset>
		</zip>
	</target>

</project>
